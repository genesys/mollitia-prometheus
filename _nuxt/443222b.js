(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"PrometheusAddon",(function(){return me})),r.d(n,"circuits",(function(){return he})),r.d(n,"metrics",(function(){return de})),r.d(n,"modules",(function(){return pe})),r.d(n,"scrap",(function(){return fe}));var o=r(127),l=r(12),c=(r(235),r(9),r(28),r(36),r(37),r(17),r(21),r(161),r(33),r(20),r(39),r(187),r(54),r(41),r(236),r(240),r(242),r(243),r(244),r(245),r(246),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(40),r(255),function(e,b){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])})(e,b)});function h(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}c(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}function d(e,t,r,n){return new(r||(r=Promise))((function(o,l){function c(e){try{d(n.next(e))}catch(e){l(e)}}function h(e){try{d(n.throw(e))}catch(e){l(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,h)}d((n=n.apply(e,t||[])).next())}))}function f(e,body){var t,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],r=0}finally{t=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function m(e,t){for(var i=0,r=t.length,n=e.length;i<r;i++,n++)e[n]=t[i];return e}var v=function(){function e(e,t,r){this.listeners=e,this.eventName=t,this.index=r}return e.prototype.dispose=function(){this.listeners[this.eventName].splice(this.index,1)},e}(),y=function(){function e(){this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]=this.listeners[e]||[];var r=this.listeners[e].push(t);return new v(this.listeners,e,r-1)},e.prototype.off=function(e,t){var r=this.listeners[e];if(r)for(var i=r.length;i>0;i--)if(r[i]===t){r.splice(i,1);break}},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.listeners[e];return!!n&&(n.forEach((function(e){e.apply(void 0,t)})),!0)},e.prototype.dispose=function(){this.listeners={}},e}(),w=[],x=function(e){function t(){var r=e.call(this,"Circuit has no function set")||this;return Object.setPrototypeOf(r,t.prototype),r}return h(t,e),t}(Error),_=function(){return d(void 0,void 0,void 0,(function(){return f(this,(function(e){return[2,Promise.reject(new x)]}))}))},C=[],O=function(e){function t(t){var r,n=e.call(this)||this;n.name=(null==t?void 0:t.name)?t.name:"Circuit"+C.length;for(var o=0,l=w;o<l.length;o++){var c=l[o];c.onCircuitCreate&&c.onCircuitCreate(n,null==t?void 0:t.options)}return n.func=(null==t?void 0:t.func)?t.func:_,n.modules=(null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.modules)||[],C.push(n),n}return h(t,e),Object.defineProperty(t.prototype,"activeModules",{get:function(){return this.modules.filter((function(e){return e.active}))},enumerable:!1,configurable:!0}),t.prototype.fn=function(e){return this.func=e,this},t.prototype.execute=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return d(this,void 0,void 0,(function(){var t,r,i,n,o;return f(this,(function(l){if(this.activeModules.length)if(this.activeModules.length>1){for(r=[],i=2;i<this.activeModules.length;i++)r.push(this,this.activeModules[i].execute.bind(this.activeModules[i]));r.push.apply(r,m([this,this.func],e)),t=(n=this.activeModules[0]).execute.apply(n,m([this,this.activeModules[1].execute.bind(this.activeModules[1])],r))}else t=(o=this.activeModules[0]).execute.apply(o,m([this,this.func],e));else t=this.func.apply(this,e);return this.emit("execute",this,t),[2,t]}))}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.modules&&this.modules.forEach((function(e){return e.dispose()}))},t}(y),S=function(){},T=[],I=function(e){function t(t){var r=e.call(this)||this;r.active=void 0===(null==t?void 0:t.active)||t.active,r.name=void 0!==(null==t?void 0:t.name)?t.name:"Module"+T.length;for(var n=0,o=w;n<o.length;n++){var l=o[n];l.onModuleCreate&&l.onModuleCreate(r,t)}return r.logger=null==t?void 0:t.logger,T.push(r),r}return h(t,e),t.prototype.execute=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=t.apply(void 0,r);return this.emit("execute",e,o),o},t.prototype.getExecParams=function(e,t){var r=this,n=e.modules.findIndex((function(e){return e===r})),o=t.length-2*(e.modules.length-1-n);return t.filter((function(p,i){return t.length-i<=o}))},t}(y);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}h(t,e)}(S);var E=function(e){function t(){var r=e.call(this,"Timed out")||this;return Object.setPrototypeOf(r,t.prototype),r}return h(t,e),t}(Error),k=function(e){function t(t){var r=e.call(this,t)||this;return r.delay=void 0!==(null==t?void 0:t.delay)?t.delay:6e4,r}return h(t,e),t.prototype.execute=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var n;return f(this,(function(o){return n=this._promiseTimeout.apply(this,m([e,this.delay,t],r)),this.emit("execute",e,n),[2,n]}))}))},t.prototype._promiseTimeout=function(e,time,t){for(var r=[],n=3;n<arguments.length;n++)r[n-3]=arguments[n];return d(this,void 0,void 0,(function(){var n,o=this;return f(this,(function(l){return 0!==time&&time!==1/0?[2,Promise.race([t.apply(void 0,r),new Promise((function(t,r){n=setTimeout((function(){o.emitTimeout(e),r(new E)}),time)}))]).then((function(e){return clearTimeout(n),e})).catch((function(e){return clearTimeout(n),Promise.reject(e)}))]:[2,t.apply(void 0,r)]}))}))},t.prototype.emitTimeout=function(e){var t;null===(t=this.logger)||void 0===t||t.debug(e.name+"/"+this.name+" - Has timed out"),this.emit("timeout",e)},t}(I);function P(e){return void 0===e&&(e=1),d(this,void 0,void 0,(function(){return f(this,(function(t){return[2,new Promise((function(t){setTimeout((function(){t()}),e)}))]}))}))}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}h(t,e)}(S);var R=function(e){function t(t){var r=e.call(this,t)||this;return r.attempts=void 0!==(null==t?void 0:t.attempts)?t.attempts:2,r.interval=void 0!==(null==t?void 0:t.interval)?t.interval:0,r.onRejection=(null==t?void 0:t.onRejection)||function(){return!0},r}return h(t,e),t.prototype.execute=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var n;return f(this,(function(o){return n=this._promiseRetry.apply(this,m([e,this.attempts+1,t],r)),this.emit("execute",e,n),[2,n]}))}))},t.prototype._promiseRetry=function(e,t,r){for(var n,o,l=[],c=3;c<arguments.length;c++)l[c-3]=arguments[c];return d(this,void 0,void 0,(function(){var c=this;return f(this,(function(h){return t-1==0?(this.attempts&&(this.emit("retry",e,this.attempts),null===(n=this.logger)||void 0===n||n.debug(e.name+"/"+this.name+" - Retry: ("+this.attempts+"/"+this.attempts+")")),[2,r.apply(void 0,l).then((function(t){return c.attempts>0?c.emit("success-with-retry",e,c.attempts):c.emit("success-without-retry",e),t})).catch((function(t){throw c.attempts>0?c.emit("failure-with-retry",e,c.attempts):c.emit("failure-without-retry",e),t}))]):(t!==this.attempts+1&&(this.emit("retry",e,this.attempts-t+1),null===(o=this.logger)||void 0===o||o.debug(e.name+"/"+this.name+" - Retry: ("+(this.attempts-t+1)+"/"+this.attempts+")")),[2,r.apply(void 0,l).then((function(r){return t!==c.attempts+1?c.emit("success-with-retry",e,c.attempts-t+1):c.emit("success-without-retry",e),r})).catch((function(n){return d(c,void 0,void 0,(function(){var o,c;return f(this,(function(h){switch(h.label){case 0:return o=this.onRejection(n,this.attempts-t+1),c="number"==typeof o?o:this.interval,!1!==o?[3,1]:(t!==this.attempts+1?this.emit("failure-with-retry",e,this.attempts-t+1):this.emit("failure-without-retry",e),[2,Promise.reject(n)]);case 1:return[4,P(c)];case 2:return h.sent(),[2,this._promiseRetry.apply(this,m([e,t-1,r],l))]}}))}))}))])}))}))},t}(I);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}h(t,e)}(S);var D=function(e){function t(r,n){var o=e.call(this,"Ratelimited")||this;return o.name=n,o.remainingTimeInRatelimit=r,Object.setPrototypeOf(o,t.prototype),o}return h(t,e),t}(Error),M=function(e){function t(t){var r=e.call(this,t)||this;return r.limitPeriod=void 0!==(null==t?void 0:t.limitPeriod)?t.limitPeriod:0,r.limitForPeriod=void 0!==(null==t?void 0:t.limitForPeriod)?t.limitForPeriod:1/0,r.requestsTime=[],r}return h(t,e),t.prototype.execute=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var n;return f(this,(function(o){return n=this._promiseRatelimit.apply(this,m([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},t.prototype._promiseRatelimit=function(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return d(this,void 0,void 0,(function(){var o,l;return f(this,(function(c){return this.limitPeriod?(o=(new Date).getTime(),this.requestsTime.length<this.limitForPeriod?(this.requestsTime.push(o),[2,t.apply(void 0,n)]):(l=o-this.requestsTime[0])>this.limitPeriod?(this.requestsTime.shift(),this.requestsTime.push(o),[2,t.apply(void 0,n)]):(null===(r=this.logger)||void 0===r||r.debug(e.name+"/"+this.name+" - Ratelimited"),this.emit("ratelimit",e),[2,Promise.reject(new D(this.limitPeriod-l,this.name))])):[2,t.apply(void 0,n)]}))}))},t}(I);!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.callback=function(e){return e},t}h(t,e)}(S);var F,H=function(e){function t(t){var r=e.call(this,t)||this;return r.callback=(null==t?void 0:t.callback)||function(e){return e},r}return h(t,e),t.prototype.execute=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var n;return f(this,(function(o){return n=this._promiseFallback.apply(this,m([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},t.prototype._promiseFallback=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var e=this;return f(this,(function(n){return[2,new Promise((function(n,o){t.apply(void 0,r).then((function(e){n(e)})).catch((function(t){o(e.callback(t))}))}))]}))}))},t}(I),j=function(e){function t(){var r=e.call(this,"Circuit is opened")||this;return Object.setPrototypeOf(r,t.prototype),r}return h(t,e),t}(Error),z=function(e){function t(){var t=e.call(this,"Max allowed requests reached")||this;return Object.setPrototypeOf(t,j.prototype),t}return h(t,e),t}(Error);!function(e){e.CLOSED="closed",e.HALF_OPENED="half-opened",e.OPENED="opened"}(F||(F={}));var N,L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t}(S);!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILURE=1]="FAILURE",e[e.TIMEOUT=2]="TIMEOUT"}(N||(N={}));var B=function(e){function t(t){var r=e.call(this,t)||this;return r.halfOpenMaxDelayTimeout=0,r.openTimeout=0,r.state=void 0!==(null==t?void 0:t.state)?t.state:F.CLOSED,r.openStateDelay=void 0!==(null==t?void 0:t.openStateDelay)?t.openStateDelay:6e4,r.halfOpenStateMaxDelay=void 0!==(null==t?void 0:t.halfOpenStateMaxDelay)?t.halfOpenStateMaxDelay:0,r.state===F.OPENED?r.setHalfDelay():r.state===F.HALF_OPENED&&r.setOpenDelay(),r.slidingWindowSize=void 0!==(null==t?void 0:t.slidingWindowSize)?t.slidingWindowSize:10,r.minimumNumberOfCalls=void 0!==(null==t?void 0:t.minimumNumberOfCalls)?t.minimumNumberOfCalls:10,r.failureRateThreshold=void 0!==(null==t?void 0:t.failureRateThreshold)?t.failureRateThreshold:50,r.slowCallDurationThreshold=void 0!==(null==t?void 0:t.slowCallDurationThreshold)?t.slowCallDurationThreshold:6e4,r.slowCallRateThreshold=void 0!==(null==t?void 0:t.slowCallRateThreshold)?null==t?void 0:t.slowCallRateThreshold:100,r.permittedNumberOfCallsInHalfOpenState=void 0!==(null==t?void 0:t.permittedNumberOfCallsInHalfOpenState)?t.permittedNumberOfCallsInHalfOpenState:2,r.nbCallsInHalfOpenedState=0,r.callsInHalfOpenedState=[],r.callsInClosedState=[],r.onError=(null==t?void 0:t.onError)||function(){return!0},r}return h(t,e),t.prototype.reinitializeCounters=function(){this.nbCallsInHalfOpenedState=0,this.callsInClosedState=[],this.callsInHalfOpenedState=[]},t.prototype.onOpened=function(){this.reinitializeCounters()},t.prototype.onClosed=function(){this.reinitializeCounters()},t.prototype.onHalfOpened=function(){this.reinitializeCounters()},t.prototype.execute=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var n;return f(this,(function(o){return n=this._promiseBreaker.apply(this,m([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},t.prototype._promiseBreaker=function(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return d(this,void 0,void 0,(function(){return f(this,(function(o){switch(this.state){case F.OPENED:return null===(r=this.logger)||void 0===r||r.debug(e.name+"/"+this.name+" - Circuit is opened"),[2,Promise.reject(new j)];case F.HALF_OPENED:return[2,this.executeInHalfOpened.apply(this,m([t],n))];case F.CLOSED:default:return[2,this.executeInClosed.apply(this,m([t],n))]}return[2]}))}))},t.prototype.adjustedRequestResult=function(e,t){return t||e!==N.FAILURE?e:N.SUCCESS},t.prototype.executeInHalfOpened=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return d(this,void 0,void 0,(function(){var r,n,o,l;return f(this,(function(c){switch(c.label){case 0:return this.nbCallsInHalfOpenedState<this.permittedNumberOfCallsInHalfOpenState?(this.nbCallsInHalfOpenedState++,[4,this.executePromise.apply(this,m([e],t))]):[3,2];case 1:return r=c.sent(),n=r.requestResult,o=r.response,l=r.shouldReportFailure,this.callsInHalfOpenedState.push(this.adjustedRequestResult(n,l)),this.callsInHalfOpenedState.length==this.permittedNumberOfCallsInHalfOpenState&&this.checkCallRatesHalfOpen(this.open.bind(this),this.close.bind(this)),n===N.FAILURE?[2,Promise.reject(o)]:[2,Promise.resolve(o)];case 2:return[2,Promise.reject(new z)];case 3:return[2]}}))}))},t.prototype.executePromise=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=(new Date).getTime();return e.apply(void 0,r).then((function(e){var r=(new Date).getTime(),n=N.SUCCESS;return 0!==t.slowCallDurationThreshold&&t.slowCallDurationThreshold!==1/0&&r-o>t.slowCallDurationThreshold&&(n=N.TIMEOUT),{requestResult:n,response:e,shouldReportFailure:!1}})).catch((function(e){return{requestResult:N.FAILURE,response:e,shouldReportFailure:t.onError(e)}}))},t.prototype.checkCallRatesHalfOpen=function(e,t){var r=this.callsInHalfOpenedState.reduce(this.getNbSlowAndFailure,{nbSlow:0,nbFailure:0}),n=r.nbSlow,o=r.nbFailure;this.checkResult(n,o,this.callsInHalfOpenedState.length,e,t)},t.prototype.checkResult=function(e,t,r,n,o){this.slowCallRateThreshold<100&&e/r*100>=this.slowCallRateThreshold||this.failureRateThreshold<100&&t/r*100>=this.failureRateThreshold?n():o&&o()},t.prototype.getNbSlowAndFailure=function(e,t){switch(t){case N.FAILURE:e.nbFailure++;break;case N.TIMEOUT:e.nbSlow++}return e},t.prototype._open=function(e){var t;this.state!==F.OPENED&&(null===(t=this.logger)||void 0===t||t.debug(e.name+"/"+this.name+" - Breaker: Open"),this.open())},t.prototype._close=function(e){var t;this.state!==F.CLOSED&&(null===(t=this.logger)||void 0===t||t.debug(e.name+"/"+this.name+" - Breaker: Close"),this.close())},t.prototype.open=function(){this.state!==F.OPENED&&(this.clearHalfOpenTimeout(),this.state=F.OPENED,this.setHalfDelay(),this.onOpened(),this.emit("state-changed",this.state))},t.prototype.halfOpen=function(){this.state!==F.HALF_OPENED&&(this.clearHalfOpenTimeout(),this.state=F.HALF_OPENED,this.setOpenDelay(),this.onHalfOpened(),this.emit("state-changed",this.state))},t.prototype.close=function(){this.state!==F.CLOSED&&(this.clearHalfOpenTimeout(),this.state=F.CLOSED,this.onClosed(),this.emit("state-changed",this.state))},t.prototype.setHalfDelay=function(){var e=this;this.openTimeout=setTimeout((function(){var t;null===(t=e.logger)||void 0===t||t.debug(e.name+" - Breaker: Half Open"),e.halfOpen()}),this.openStateDelay)},t.prototype.setOpenDelay=function(){var e=this;this.halfOpenStateMaxDelay&&(this.halfOpenMaxDelayTimeout=setTimeout((function(){e.halfOpenMaxDelayTimeout=0,e.open()}),this.halfOpenStateMaxDelay))},t.prototype.clearHalfOpenTimeout=function(){this.halfOpenMaxDelayTimeout&&(clearTimeout(this.halfOpenMaxDelayTimeout),this.halfOpenMaxDelayTimeout=0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearHalfOpenTimeout(),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=0)},t}(I),A=function(e,t){this.ttl=e,this.res=t},U=function(){function e(){this.map=new Map}return e.prototype.set=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._setLoopMap.apply(this,m([this.map,e],t))},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getLoopMap.apply(this,m([this.map],e))},e.prototype.clear=function(){return this._clearLoopMap(this.map)},e.prototype._setLoopMap=function(map,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(2===t.length){var n={map:new Map,cache:new A(Date.now()+e,t[1])};map.set(t[0],n)}else if(map.get(t[0])){var param=t.splice(0,1)[0];this._setLoopMap.apply(this,m([map.get(param).map,e],t))}else{var o=new Map;map.set(t[0],{map:o}),t.splice(0,1),this._setLoopMap.apply(this,m([o,e],t))}},e.prototype._getLoopMap=function(map){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(map){if(1===e.length)return map.get(e[0])&&map.get(e[0]).cache;var param=e.splice(0,1)[0];return map.get(param)?this._getLoopMap.apply(this,m([map.get(param).map],e)):null}return null},e.prototype._clearLoopMap=function(map){var e=this,t=!1;return map.forEach((function(r){r.map&&(!0===e._clearLoopMap(r.map)&&(t=!0));r.cache&&Date.now()>r.cache.ttl&&(delete r.cache,t=!0)})),t},e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}h(t,e)}(S);var W=function(e){function t(t){var r=e.call(this,t)||this;return r.ttl=void 0!==(null==t?void 0:t.ttl)?t.ttl:6e3,r.getInformationFromCache=void 0!==(null==t?void 0:t.getInformationFromCache)&&t.getInformationFromCache,r._cacheInterval=null,r._cacheClearInterval=0,r.cacheClearInterval=void 0!==(null==t?void 0:t.cacheClearInterval)?t.cacheClearInterval:9e5,r.cache=new U,r}return h(t,e),Object.defineProperty(t.prototype,"cacheClearInterval",{get:function(){return this._cacheClearInterval},set:function(e){this._cacheClearInterval=e,this._initializeInterval()},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var n;return f(this,(function(o){return n=this._promiseCache.apply(this,m([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cacheInterval&&(clearTimeout(this._cacheInterval),this._cacheInterval=null)},t.prototype._promiseCache=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var n=this;return f(this,(function(o){return[2,new Promise((function(o,c){var h,d,f=n.getExecParams(e,r),v=(h=n.cache).get.apply(h,m([e.func],f));if(v){"object"===Object(l.a)(v.res)&&n.getInformationFromCache&&(v.res._mollitiaIsFromCache=!0);var y=Date.now();n.ttl!==1/0&&v.ttl<y?t.apply(void 0,r).then((function(t){var r;n.ttl>0&&(r=n.cache).set.apply(r,m(m([n.ttl,e.func],f),[t])),"object"===Object(l.a)(t)&&n.getInformationFromCache&&(t._mollitiaIsFromCache=!1),o(t)})).catch((function(){var t;null===(t=n.logger)||void 0===t||t.debug(e.name+"/"+n.name+" - Cache: Hit [Old]"),o(v.res)})):(null===(d=n.logger)||void 0===d||d.debug(e.name+"/"+n.name+" - Cache: Hit"),o(v.res))}else t.apply(void 0,r).then((function(t){var r;n.ttl>0&&(r=n.cache).set.apply(r,m(m([n.ttl,e.func],f),[t])),"object"===Object(l.a)(t)&&n.getInformationFromCache&&(t._mollitiaIsFromCache=!1),o(t)})).catch((function(e){c(e)}))}))]}))}))},t.prototype._initializeInterval=function(){var e=this;this._cacheInterval&&(clearTimeout(this._cacheInterval),this._cacheInterval=null),0!==this.cacheClearInterval&&this.cacheClearInterval!==1/0&&(this._cacheInterval=setTimeout((function(){var t;e.cache.clear()&&(null===(t=e.logger)||void 0===t||t.debug(e.name+" - Cache: Clear")),e._initializeInterval()}),this.cacheClearInterval))},t}(I),V=function(e){function t(t){var r=e.call(this,t)||this;return r.slidingWindowSize=void 0!==(null==t?void 0:t.slidingWindowSize)?t.slidingWindowSize:10,r.slidingWindowSize<r.minimumNumberOfCalls&&(r.slidingWindowSize=r.minimumNumberOfCalls),r}return h(t,e),t.prototype.executeInClosed=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return d(this,void 0,void 0,(function(){var r,n,o,l,c;return f(this,(function(h){switch(h.label){case 0:return[4,this.executePromise.apply(this,m([e],t))];case 1:return r=h.sent(),n=r.requestResult,o=r.response,l=r.shouldReportFailure,this.callsInClosedState.push(this.adjustedRequestResult(n,l)),(c=this.callsInClosedState.length)>=this.minimumNumberOfCalls&&(c>this.slidingWindowSize&&this.callsInClosedState.splice(0,c-this.slidingWindowSize),this.checkCallRatesClosed(this.open.bind(this))),n===N.FAILURE?[2,Promise.reject(o)]:[2,Promise.resolve(o)]}}))}))},t.prototype.checkCallRatesClosed=function(e){var t=this.callsInClosedState.reduce(this.getNbSlowAndFailure,{nbSlow:0,nbFailure:0}),r=t.nbSlow,n=t.nbFailure;this.checkResult(r,n,this.callsInClosedState.length,e)},t}(B),G=function(e){function t(t){var r=e.call(this,t)||this;return r.slidingWindowSize=void 0!==(null==t?void 0:t.slidingWindowSize)?t.slidingWindowSize:60,r.maxSize=1e3,r}return h(t,e),t.prototype.filterCalls=function(){var e=this.callsInClosedState.length;e>=this.maxSize&&(this.callsInClosedState.shift(),e--);for(var t=!0,r=(new Date).getTime(),i=0;i<e&&t;i++)r-this.callsInClosedState[0].timestamp>this.slidingWindowSize?this.callsInClosedState.shift():t=!1},t.prototype.executeInClosed=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return d(this,void 0,void 0,(function(){var r,n,o,l;return f(this,(function(c){switch(c.label){case 0:return[4,this.executePromise.apply(this,m([e],t))];case 1:return r=c.sent(),n=r.requestResult,o=r.response,l=r.shouldReportFailure,this.filterCalls(),this.callsInClosedState.push({result:this.adjustedRequestResult(n,l),timestamp:(new Date).getTime()}),this.callsInClosedState.length>=this.minimumNumberOfCalls&&this.checkCallRatesClosed(this.open.bind(this)),n===N.FAILURE?[2,Promise.reject(o)]:[2,Promise.resolve(o)]}}))}))},t.prototype.checkCallRatesClosed=function(e){var t=this.callsInClosedState.reduce(this.getNbSlowAndFailureTimeElem,{nbSlow:0,nbFailure:0}),r=t.nbSlow,n=t.nbFailure;this.checkResult(r,n,this.callsInClosedState.length,e)},t.prototype.getNbSlowAndFailureTimeElem=function(e,t){switch(t.result){case N.FAILURE:e.nbFailure++;break;case N.TIMEOUT:e.nbSlow++}return e},t}(B);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}h(t,e)}(S);var Q,J=function(e){function t(){var r=e.call(this,"Circuit is overloaded")||this;return Object.setPrototypeOf(r,t.prototype),r}return h(t,e),t}(Error),Y=function(e){function t(){var r=e.call(this,"Waiting for too long in queue")||this;return Object.setPrototypeOf(r,t.prototype),r}return h(t,e),t}(Error),X=function(e){function t(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=e.call(this)||this;return o.promise=t,o.params=r,o}return h(t,e),t.prototype.execute=function(){return d(this,void 0,void 0,(function(){var e=this;return f(this,(function(t){return[2,new Promise((function(t,r){e.emit("execute"),e.promise.apply(e,e.params).then((function(r){e.emit("resolve",r),t(r)})).catch((function(t){e.emit("reject",t),r(t)}))}))]}))}))},t}(y),$=function(e){function t(t){var r=e.call(this,t)||this;return r.concurrentSize=void 0!==(null==t?void 0:t.concurrentSize)?t.concurrentSize:10,r.queueSize=void 0!==(null==t?void 0:t.queueSize)?t.queueSize:10,r.maxQueueWait=void 0!==(null==t?void 0:t.maxQueueWait)?t.maxQueueWait:6e4,r.concurrentBuffer=[],r.queueBuffer=[],r}return h(t,e),t.prototype.execute=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var n;return f(this,(function(o){return n=this._promiseBulkhead.apply(this,m([e,t],r)),this.emit("execute",e,n),[2,n]}))}))},t.prototype._promiseBulkhead=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return d(this,void 0,void 0,(function(){var e=this;return f(this,(function(n){return[2,new Promise((function(n,o){var l=new(X.bind.apply(X,m([void 0,t],r)));if(e.concurrentBuffer.length<e.concurrentSize)l.execute().then((function(e){n(e)})).catch((function(e){o(e)})).finally((function(){e.concurrentBuffer.splice(e.concurrentBuffer.indexOf(l),1),e._addBufferedPromise()})),e.concurrentBuffer.push(l);else if(e.queueBuffer.length<e.queueSize){e.queueBuffer.push(l);var c=setTimeout((function(){e.queueBuffer.splice(e.queueBuffer.indexOf(l),1),d.dispose(),f.dispose(),o(new Y)}),e.maxQueueWait),h=l.on("execute",(function(){h.dispose(),clearTimeout(c)})),d=l.on("resolve",(function(t){clearTimeout(c),e.concurrentBuffer.splice(e.concurrentBuffer.indexOf(l),1),d.dispose(),f.dispose(),e._addBufferedPromise(),n(t)})),f=l.on("reject",(function(t){clearTimeout(c),e.concurrentBuffer.splice(e.concurrentBuffer.indexOf(l),1),d.dispose(),f.dispose(),e._addBufferedPromise(),o(t)}))}else o(new J)}))]}))}))},t.prototype._addBufferedPromise=function(){if(this.queueBuffer.length>0){var e=this.queueBuffer.splice(0,1)[0];e.execute().catch((function(){})),this.concurrentBuffer.push(e)}},t}(I),K=function(){return(K=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e}).apply(this,arguments)};!function(e){e.COUNTER="counter",e.GAUGE="gauge"}(Q||(Q={}));var Z=function(){function e(e,t){this.key=e,this.type=Q.COUNTER,this.labels=(null==t?void 0:t.labels)||{},this.values={},(null==t?void 0:t.description)&&(this.description=null==t?void 0:t.description)}return e.prototype.inc=function(e,t){return void 0===e&&(e=1),this.values[t]=this.values[t]||0,this.values[t]+=e,this.values[t]},e.prototype.scrap=function(){var e="";return Object.keys(this.values).length&&(e=this.scrapHelp(),e+=this.scrapValues()),e},e.prototype.scrapHelp=function(){var e="# HELP "+this.key+" "+this.description+"\n";return e+="# TYPE "+this.key+" "+this.type+"\n"},e.prototype.scrapValues=function(){var e="";if(Object.keys(this.values).length)for(var t in this.values){var r='circuit="'+t+'"';for(var label in this.labels)r+=", "+label+'="'+this.labels[label]+'"';e+=this.key+"{"+r+"} "+this.values[t]+"\n"}return e},e}(),ee=function(){function e(e,t){this.key=e,this.type=Q.GAUGE,this.labels=(null==t?void 0:t.labels)||{},this.values={},(null==t?void 0:t.description)&&(this.description=null==t?void 0:t.description)}return e.prototype.inc=function(e,t){return void 0===e&&(e=1),this.values[t]=this.values[t]||0,this.values[t]+=e,this.values[t]},e.prototype.get=function(e){return this.values[e]},e.prototype.set=function(e,t){return this.values[t]=e,this.values[t]},e.prototype.scrap=function(){var e="";return Object.keys(this.values).length&&(e=this.scrapHelp(),e+=this.scrapValues()),e},e.prototype.scrapHelp=function(){var e="# HELP "+this.key+" "+this.description+"\n";return e+="# TYPE "+this.key+" "+this.type+"\n"},e.prototype.scrapValues=function(){var e="";if(Object.keys(this.values).length)for(var t in this.values){var r='circuit="'+t+'"';for(var label in this.labels)r+=", "+label+'="'+this.labels[label]+'"';var n=this.values[t]%1?this.values[t].toFixed(2):this.values[t];e+=this.key+"{"+r+"} "+n+"\n"}return this.values={},e},e}(),te=function(e){if(e.constructor.name===O.name){var t=e;return t.prometheus.perMethod?t.prometheus.name+"_"+t.prometheus.funcName:e.prometheus.name}return e.prometheus.name},ie=function(e,t){var r,n,o,l,c,h,d,f,m,v,y,w,x,_,C,S,T=null===(r=t.prometheus)||void 0===r?void 0:r.labels;e.constructor.name!==O.name&&(T=K(K({},T),{module:(null===(n=t.prometheus)||void 0===n?void 0:n.name)||""}));var I=new Z(((null===(o=t.prometheus)||void 0===o?void 0:o.prefix)?(null===(l=t.prometheus)||void 0===l?void 0:l.prefix)+"_":"")+"total_executions",{description:"Total Executions",labels:T}),E=new Z(((null===(c=t.prometheus)||void 0===c?void 0:c.prefix)?(null===(h=t.prometheus)||void 0===h?void 0:h.prefix)+"_":"")+"total_success",{description:"Total Success",labels:T}),k=new Z(((null===(d=t.prometheus)||void 0===d?void 0:d.prefix)?(null===(f=t.prometheus)||void 0===f?void 0:f.prefix)+"_":"")+"total_failures",{description:"Total Failures",labels:T}),P={},R=new ee(((null===(m=t.prometheus)||void 0===m?void 0:m.prefix)?(null===(v=t.prometheus)||void 0===v?void 0:v.prefix)+"_":"")+"duration",{description:"Maximum Duration of Circuit Execution",labels:K(K({},T),{metricType:"MAX"})}),D=new ee(((null===(y=t.prometheus)||void 0===y?void 0:y.prefix)?(null===(w=t.prometheus)||void 0===w?void 0:w.prefix)+"_":"")+"duration",{description:"Average Duration of Circuit Execution",labels:K(K({},T),{metricType:"AVG"})}),M=new ee(((null===(x=t.prometheus)||void 0===x?void 0:x.prefix)?(null===(_=t.prometheus)||void 0===_?void 0:_.prefix)+"_":"")+"duration",{description:"Minimum Duration of Circuit Execution",labels:K(K({},T),{metricType:"MIN"})}),F=new ee(((null===(C=t.prometheus)||void 0===C?void 0:C.prefix)?(null===(S=t.prometheus)||void 0===S?void 0:S.prefix)+"_":"")+"duration",{description:"Count of Circuit Execution",labels:K(K({},T),{metricType:"COUNT"})});return e.on("execute",(function(e,t){var r=te(e);P[r]=P[r]||0;var n=Date.now();I.inc(1,r),t.then((function(){var e=F.inc(1,r);1===e&&(P[r]=0);var t=Date.now()-n;P[r]+=t;var o=M.get(r);(!o||o>t)&&M.set(t,r);var l=R.get(r);(!l||l<t)&&R.set(t,r),D.set(P[r]/e,r)})).catch((function(){k.inc(1,r)}))})),{total_executions:I,total_success:E,total_failures:k,duration_max:R,duration_ave:D,duration_min:M,duration_count:F}},re=function(e,t){return ie(e,t)},ne=function(e,t){var r,n,o,l,c=ie(e,t),h=K(K({},null===(r=t.prometheus)||void 0===r?void 0:r.labels),{module:(null===(n=t.prometheus)||void 0===n?void 0:n.name)||""}),d=new Z(((null===(o=t.prometheus)||void 0===o?void 0:o.prefix)?(null===(l=t.prometheus)||void 0===l?void 0:l.prefix)+"_":"")+"total_failures_timeout",{description:"Total Timeout Failures",labels:h});return e.on("timeout",(function(){d.inc(1,e.prometheus.name)})),K(K({},c),{total_failures_timeout:d})},oe=function(e,t){var r,n,o,l,c,h,d,f,m,v,y=ie(e,t),w=K(K({},null===(r=t.prometheus)||void 0===r?void 0:r.labels),{module:(null===(n=t.prometheus)||void 0===n?void 0:n.name)||""}),x=new Z(((null===(o=t.prometheus)||void 0===o?void 0:o.prefix)?(null===(l=t.prometheus)||void 0===l?void 0:l.prefix)+"_":"")+"success_without_retries",{description:"Success Without Retries",labels:w}),_=new Z(((null===(c=t.prometheus)||void 0===c?void 0:c.prefix)?(null===(h=t.prometheus)||void 0===h?void 0:h.prefix)+"_":"")+"success_with_retries",{description:"Success With Retries",labels:w}),C=new Z(((null===(d=t.prometheus)||void 0===d?void 0:d.prefix)?(null===(f=t.prometheus)||void 0===f?void 0:f.prefix)+"_":"")+"failures_without_retries",{description:"Failures Without Retries",labels:w}),O=new Z(((null===(m=t.prometheus)||void 0===m?void 0:m.prefix)?(null===(v=t.prometheus)||void 0===v?void 0:v.prefix)+"_":"")+"failures_with_retries",{description:"Failures With Retries",labels:w});return e.on("success-without-retry",(function(e){var t=te(e);x.inc(1,t)})),e.on("success-with-retry",(function(e){var t=te(e);_.inc(1,t)})),e.on("failure-without-retry",(function(e){var t=te(e);C.inc(1,t)})),e.on("failure-with-retry",(function(e){var t=te(e);O.inc(1,t)})),K(K({},y),{success_without_retries:x,success_with_retries:_,failures_without_retries:C,failures_with_retries:O})},se=function(e,t){return ie(e,t)},ae=function(e,t){return ie(e,t)},ue=function(e,t){return ie(e,t)},le=function(e,t){return ie(e,t)},ce=function(e,t){return ie(e,t)},he=[],pe=[],de=function(){for(var e,t,r={},n=0,o=he;n<o.length;n++){var l=o[n],c=l.prometheus.name;for(var h in l.prometheus.metrics)r[h]?r[h].circuits[c]=l.prometheus.metrics[h].values[c]:r[h]={circuits:(e={},e[c]=l.prometheus.metrics[h].values[c]||0,e),modules:{}}}for(var d=0,f=pe;d<f.length;d++){var m=f[d],v=m.prometheus.name;for(var h in m.prometheus.metrics)Object.keys(m.prometheus.metrics[h].values).length&&(r[h]?r[h].modules[v]=m.prometheus.metrics[h].values:r[h]={circuits:{},modules:(t={},t[v]=m.prometheus.metrics[h].values,t)})}return r},fe=function(){for(var e={},t=0,r=he;t<r.length;t++){var n=r[t];for(var o in n.prometheus.metrics)e[o]?e[o].value+=n.prometheus.metrics[o].scrapValues():e[o]={help:n.prometheus.metrics[o].scrapHelp(),value:n.prometheus.metrics[o].scrapValues()}}for(var l=0,c=pe;l<c.length;l++){var h=c[l];for(var o in h.prometheus.metrics)e[o]?e[o].value+=h.prometheus.metrics[o].scrapValues():e[o]={help:h.prometheus.metrics[o].scrapHelp(),value:h.prometheus.metrics[o].scrapValues()}}var d="";for(var o in e)d+=""+e[o].help+e[o].value+"\n";return d},me=function(){function e(){}return e.prototype.onCircuitCreate=function(e,t){if(t.prometheus){e.prometheus={name:t.prometheus.name,perMethod:!!t.prometheus.perMethod&&t.prometheus.perMethod,labels:t.prometheus.labels||{},metrics:re(e,t),scrap:function(){var t="";for(var r in e.prometheus.metrics)t+=e.prometheus.metrics[r].scrap();return t}};var r=e.fn.bind(e);e.fn=function(t,n){return e.prometheus.funcName=n||t.name,r(t,n)},he.push(e)}},e.prototype.onModuleCreate=function(e,t){if(t.prometheus){var r=void 0;switch(e.constructor.name){case k.name:r=ne;break;case R.name:r=oe;break;case $.name:r=se;break;case W.name:r=ae;break;case M.name:r=ue;break;case H.name:r=le;break;case L.name:case V.name:case G.name:r=ce;break;default:r=function(){return{}}}e.prometheus={name:t.prometheus.name,labels:t.prometheus.labels||{},metrics:r(e,t),scrap:function(){var t="";for(var r in e.prometheus.metrics)t+=e.prometheus.metrics[r].scrap();return t}},pe.push(e)}},e}();o.use(new me);t.a=function(e,t){t("mollitia",o),t("mollitiaPrometheus",n)}},164:function(e,t,r){var content=r(225);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(70).default)("5c346d62",content,!0,{sourceMap:!1})},184:function(e,t,r){"use strict";r(224);var n=r(49),component=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Nuxt")],1)}),[],!1,null,null,null);t.a=component.exports},188:function(e,t,r){r(189),e.exports=r(190)},224:function(e,t,r){"use strict";r(164)},225:function(e,t,r){var n=r(69)(!1);n.push([e.i,':root{--madoc-white:#fff;--madoc-black:#000;--madoc-light-orange:#ff4f1f;--madoc-dark-orange:#e36209;--madoc-grey-1:#111;--madoc-grey-2:#222;--madoc-grey-3:#333;--madoc-grey-4:#444;--madoc-grey-5:#555;--madoc-grey-9:#999;--madoc-light-primary:#aaa;--madoc-dark-primary:#444;--madoc-github-blue-link:#0366d6;--madoc-github-red-code:#af6161;--madoc-github-code-back:rgba(27,31,35,0.05);--madoc-github-underline:#eaecef;--madoc-github-grey-1:#eaeeef;--madoc-github-grey-2:#6a737d;--madoc-github-grey-3:#dfe2e5;--madoc-github-grey-4:#e1e4e8;--madoc-github-grey-5:#c6cbd1;--madoc-github-grey-6:#24292e;--madoc-github-grey-7:#d6d3d5;--madoc-github-grey-8:#d6d8da;--madoc-github-grey-9:#9da5b4;--madoc-github-grey-10:#181a1f;--madoc-github-grey-11:#1b1d23;--madoc-github-grey-12:#f6f8fa;--madoc-white-opacity-50:hsla(0,0%,100%,0.5);--madoc-black-opacity-25:rgba(0,0,0,0.25);--madoc-black-opacity-50:rgba(0,0,0,0.5);--madoc-grey-blue-1:#dce5ed;--madoc-grey-blue-2:#8da9c4;--madoc-grey-blue-3:#778da9;--madoc-blue-1:#00a6ed;--mollitia-error-color:#ea4f6b;--mollitia-warning-color:#f8a740;--mollitia-success-color:#4ac764;--mollitia-info-color:#2e69db;--mollitia-event-color:#ff8fdd}a{color:var(--madoc-anchor-link-color);text-decoration:none}a:hover{text-decoration:underline}h1{font-size:2em}h1,h2{padding-bottom:.3em;border-bottom:1px solid #555;border-bottom:1px solid var(--madoc-grey-5)}h2{font-size:1.5em}h3{font-size:1.25em}h4{font-size:1em}h5{font-size:.875em}h6{font-size:.85em}b,strong{font-weight:600}blockquote{padding:0 1em;border-left:.25em solid #181a1f;border-left:.25em solid var(--madoc-github-grey-10)}hr{height:.25em;padding:0;margin:24px 0;background-color:#181a1f;background-color:var(--madoc-github-grey-10);border:0}p>code,table code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;padding:.2em .4em;margin:0;font-size:85%;background-color:#1b1d23;background-color:var(--madoc-github-grey-11);color:#af6161;color:var(--madoc-github-red-code);border-radius:3px}table{width:100%;border-spacing:0;border-collapse:collapse}table tr{background-color:#222;background-color:var(--madoc-grey-2);border-top:1px solid #181a1f;border-top:1px solid var(--madoc-github-grey-10)}table tr:nth-child(2n){background-color:var(--madoc-vscode-grey-3)}table tr>td,table tr>th{padding:6px 13px;border:1px solid #181a1f;border:1px solid var(--madoc-github-grey-10)}html{font-family:"Roboto";background-color:#24292e;background-color:var(--madoc-github-grey-6);color:#fff;color:var(--madoc-white);overflow-x:hidden}body,html{height:100%}body{margin:0}body>div#__nuxt,body>div#__nuxt>div#__layout,body>div#__nuxt>div#__layout>div#app{height:100%}body>div#__nuxt>div#__layout>div#app>div.madoc-page{display:flex;flex-direction:column;height:100%}body>div#__nuxt>div#__layout>div#app>div.madoc-page>div.madoc-container{flex-grow:1;display:flex;flex-direction:row;overflow:hidden}body>div#__nuxt>div#__layout>div#app>div.madoc-page>div.madoc-container>div.madoc-wrapper{flex-grow:1;overflow:auto}body>div#__nuxt>div#__layout>div#app>div.madoc-page>div.madoc-container>div.madoc-wrapper>div.madoc-content{margin:0 auto 50px;max-width:60%;min-width:800px}',""]),e.exports=n}},[[188,6,1,7]]]);